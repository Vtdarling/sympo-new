<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Details | TechSymposium '26</title>
    <link href="/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/vendor/fontawesome/css/all.min.css">
    <link rel="stylesheet" href="/vendor/animate/animate.min.css"/>
    <link rel="stylesheet" href="/css/style.css">
    <style nonce="<%= cspNonce %>">
        body { background: #0f0c29; background: linear-gradient(to right, #24243e, #302b63, #0f0c29); color: white; min-height: 100vh; display: flex; align-items: center; justify-content: center; font-family: 'Segoe UI', sans-serif; padding: 20px; }
        .confirmation-card { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 20px; box-shadow: 0 15px 35px rgba(0,0,0,0.5); max-width: 650px; width: 100%; position: relative; overflow: hidden; }
        .event-id-badge { background: linear-gradient(45deg, #FF512F, #DD2476); color: white; padding: 10px 25px; border-radius: 50px; font-size: 1.5rem; font-weight: bold; display: inline-block; margin-bottom: 20px; box-shadow: 0 5px 15px rgba(221, 36, 118, 0.4); letter-spacing: 2px; text-transform: uppercase; }
        .detail-row { background: rgba(0, 0, 0, 0.2); border-radius: 12px; padding: 15px; margin-bottom: 15px; display: flex; align-items: center; border: 1px solid rgba(255, 255, 255, 0.05); transition: transform 0.2s; }
        .detail-row:hover { transform: translateX(5px); background: rgba(255, 255, 255, 0.05); }
        .detail-icon { width: 45px; height: 45px; background: linear-gradient(45deg, #00c6ff, #0072ff); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 20px; color: white; font-size: 1.2rem; flex-shrink: 0; box-shadow: 0 0 10px rgba(0, 198, 255, 0.3); }
        .icon-tech { background: linear-gradient(45deg, #11998e, #38ef7d); }
        .icon-nontech { background: linear-gradient(45deg, #f2994a, #f2c94c); }
        .icon-money { background: linear-gradient(45deg, #56ab2f, #a8e063); }
        .btn-home { background: transparent; border: 2px solid #00c6ff; color: #00c6ff; padding: 10px 30px; border-radius: 50px; transition: all 0.3s; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; text-decoration: none; display: inline-block; }
        .btn-home:hover { background: #00c6ff; color: white; box-shadow: 0 0 20px rgba(0, 198, 255, 0.5); transform: translateY(-2px); }
        .header-section { border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 20px; margin-bottom: 30px; }
        .detail-label { font-size: 0.7rem; }
        .detail-row-tech { border-left: 4px solid #38ef7d; }
        .detail-row-nontech { border-left: 4px solid #f2c94c; }
        .detail-row-money { border-left: 4px solid #a8e063; }
    </style>
</head>
<body>

    <div class="confirmation-card p-4 p-md-5 animate__animated animate__zoomIn">
        
        <div class="text-center header-section">
            <div class="mb-3 animate__animated animate__fadeInDown">
                <span class="text-white-50 small d-block mb-2">YOUR PARTICIPANT ID</span>
                <div class="event-id-badge">
                    <!-- CHANGED: No extra prefix, displays exactly what is in DB (sympo12101) -->
                    <%= user.event_id %>
                </div>
            </div>
            <h2 class="fw-bold mb-1">Registration Details</h2>
            <p class="text-white-50">TechSymposium '26 - Official Entry Pass</p>
        </div>

        <div class="details-container animate__animated animate__fadeInUp animate__delay-1s">
            <div class="row">
                <div class="col-md-6">
                    <div class="detail-row">
                        <div class="detail-icon"><i class="fas fa-user"></i></div>
                        <div class="text-break">
                            <small class="text-white-50 d-block text-uppercase detail-label">Full Name</small>
                            <span class="fw-bold text-white fs-5"><%= user.name %></span>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="detail-row">
                        <div class="detail-icon"><i class="fas fa-phone"></i></div>
                        <div class="text-break">
                            <small class="text-white-50 d-block text-uppercase detail-label">Phone Number</small>
                            <span class="fw-bold text-white fs-5"><%= user.phone %></span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="detail-row">
                <div class="detail-icon"><i class="fas fa-university"></i></div>
                <div class="text-break">
                    <small class="text-white-50 d-block text-uppercase detail-label">College / Institution</small>
                    <span class="fw-bold text-white fs-5"><%= user.college %></span>
                </div>
            </div>

            <div class="detail-row detail-row-tech">
                <div class="detail-icon icon-tech"><i class="fas fa-microchip"></i></div>
                <div class="text-break">
                    <small class="text-white-50 d-block text-uppercase detail-label">Technical Event</small>
                    <span class="fw-bold text-white fs-5"><%= user.technical_event %></span>
                </div>
            </div>

            <div class="detail-row detail-row-nontech">
                <div class="detail-icon icon-nontech"><i class="fas fa-gamepad"></i></div>
                <div class="text-break">
                    <small class="text-white-50 d-block text-uppercase detail-label">Non-Technical Event</small>
                    <span class="fw-bold text-white fs-5"><%= user.non_technical_event %></span>
                </div>
            </div>

            <% if(user.transaction_id && !user.transaction_id.startsWith('PENDING')) { %>
            <div class="detail-row detail-row-money">
                <div class="detail-icon icon-money"><i class="fas fa-receipt"></i></div>
                <div class="text-break">
                    <small class="text-white-50 d-block text-uppercase detail-label">Transaction ID</small>
                    <span class="fw-bold text-white fs-5"><%= user.transaction_id %></span>
                </div>
            </div>
            <% } %>

        </div>

        <div class="text-center mt-4 animate__animated animate__fadeInUp animate__delay-2s">
            <a href="/home" class="btn btn-home">
                <i class="fas fa-arrow-left me-2"></i> Dashboard
            </a>
            <div class="mt-3">
                <small class="text-white-50">Please present this screen or a screenshot at the registration desk.</small>
            </div>
        </div>

    </div>

</body>
</html>